<!DOCTYPE html>
<html lang="en">
    <head>
        <script src="aframe.min.js"></script>
        <!--<script src="node_modules/animejs/lib/anime.min.js"></script>-->
        <script src="anime.min.js"></script>
        <script>
            const pixelScale = 1.032 / 1080;
            const lengthScale = 50 / 1080;
            var circs;
            var currentHotspotTimer;
            var currentHotspotTimerHolder;
            var currentHotspot;
            var hotSpotLoader;
            var startValue = 0;
            var entered = false, opening = false, closing = false;
            var hotSpots = [];
            var onButton = false;
            var fade;
            var sky;
            var changingScene = false;
            var scene1, scene2;
            var currentScene;
            var maincam;
            var rig;
            var inVR = false;

            var animateHotspotTimer, growHotspot, shrinkHotspot;

            class HotSpot {
                constructor(el) {
                    this.id = el.id.substring(0,2);
                    this.el = el;
                    this.yesbtn = [...el.children].filter(a => a.classList.contains("yes-btn"))[0];
                    this.nobtn = [...el.children].filter(a => a.classList.contains("no-btn"))[0];
                    this.hasbtns = this.yesbtn != null && this.nobtn != null;
                    this.loader = this.el.children[0];
                    this.tempTsca = 0;
                    this.Tsca = {
                        'sca': 0
                    };
                    this.tempHsca = 0;
                    this.Hsca = {
                        'sca': 0
                    };
                    this.enteredCheck = true;
                    this.closingCheck = true;
                    this.openingCheck = true;
                    this.loadForward = true;
                    this.interactiveCheck = true;
                    this.totalFrames = 30;
                    this.currentFrame = 0;
                    this.loadDuration = 1000;
                    this.animTimes = 1;
                    this.loadInterval;
                    if(this.hasbtns){
                        this.yesbtn = new uiButton(this.yesbtn, "yes", () => {
                            if(changingScene == false){
                                changingScene = true;
                                fade.components.animation__fadeout.animation.restart();
                                [...scene1.children].map(a => {a.classList.remove("interactive")});
                                setTimeout((function(self){
                                    return function() {
                                        currentScene = scene2;
                                        scene1.setAttribute("visible", "false");
                                        scene2.setAttribute("visible", "true");
                                        [...scene2.children].map(a => {a.classList.add("interactive")});
                                        fade.components.animation__fadein.animation.restart();
                                        sky.setAttribute("src", "#sky2");
                                        changingScene = false;
                                    }
                                })(this),2000);
                            }
                        });
                        this.nobtn = new uiButton(this.nobtn, "no", () => {
                            if(changingScene == false){
                                changingScene = true;
                                fade.components.animation__fadeout.animation.restart();
                                [...scene2.children].map(a => {a.classList.remove("interactive")});
                                setTimeout((function(self){
                                    return function() {
                                        currentScene = scene2;
                                        scene2.setAttribute("visible", "false");
                                        scene1.setAttribute("visible", "true");
                                        [...scene1.children].map(a => {a.classList.add("interactive")});
                                        fade.components.animation__fadein.animation.restart();
                                        sky.setAttribute("src", "#sky1");
                                        changingScene = false;
                                    }
                                })(this),2000);
                            }
                        });
                    }

                    this.growHotspot = anime({
                        targets: this.Hsca,
                        sca: 1,
                        duration: 1000,
                        autoplay: false,
                        easing: 'easeOutElastic(1, 0.5)',
                        begin: () => {
                            this.el.classList.add("opening");
                            clearInterval(currentHotspot.loadInterval);
                            this.el.classList.add("canSetInterval");
                            const id = this.el.classList.item(1);
                            this.el.setAttribute("src", `#hotspotOpen${id}`);
                            calcNewValues(this.el);
                            var children = this.el.children;
                            for(var i = 1; i < children.length; i++){
                                var c = children[i];
                                c.setAttribute("visible", "true");
                            }
                            removeOverlaps(this.el);
                        },
                        update: (anim) => {
                            this.el.setAttribute("scale", {x: this.Hsca.sca, y: this.Hsca.sca, z: 1});
                            if(Math.round(anim.progress) >= 10 && this.enteredCheck){
                                this.el.classList.add("entered");
                                this.enteredCheck = false;
                            }
                            if(Math.round(anim.progress) >= 20 && this.openingCheck){
                                this.el.classList.remove("opening");
                                this.openingCheck = false;
                            }
                            if(Math.round(anim.progress) >= 30 && this.interactiveCheck){
                                if(this.hasbtns){
                                    this.yesbtn.el.classList.add("interactive");
                                    this.nobtn.el.classList.add("interactive");
                                }
                                this.interactiveCheck = false;
                            }
                            this.tempHsca = this.Hsca.sca;
                        },
                        complete: () => {
                            this.el.classList.remove("opening");
                            this.el.classList.remove("closing");
                            this.el.classList.add("entered");
                            this.enteredCheck = true;
                            this.openingCheck = true;
                            this.interactiveCheck = true;
                        }
                    });
                }

                reapplyHotspotTimer(){
                    let dur = (this.loadForward ? (this.totalFrames - this.currentFrame - 1) * (this.loadDuration / (this.totalFrames * this.animTimes)) : (this.currentFrame + 1) * (this.loadDuration / (this.totalFrames * this.animTimes)));
                    let target = this.loadForward ? 1 : 0;
                    this.animateHotspotTimer= anime({
                        targets: this.Tsca,
                        sca: [this.tempTsca, target],
                        duration: dur,
                        autoplay: false,
                        easing: 'linear',
                        begin: (anim) => {
                            console.log("timer anim started");
                            this.loader.setAttribute("visible", "true");
                            this.loader.setAttribute("src",`#loadS${this.currentFrame > 9 ? this.currentFrame : '0' + this.currentFrame}`);
                            if(this.el.classList.contains("canSetInterval")){
                                this.el.classList.remove("canSetInterval");
                                this.loadInterval = setInterval((function(self){
                                    return function() {
                                        if(self.loadForward){
                                            self.currentFrame = (self.currentFrame + 1) % (self.totalFrames);
                                        } else {
                                            self.currentFrame = (self.currentFrame - 1) % (self.totalFrames);
                                        }
                                        self.loader.setAttribute("src",`#loadS${self.currentFrame > 9 ? self.currentFrame : self.currentFrame >= 0 ? '0' + self.currentFrame : self.totalFrames + self.currentFrame > 9 ? (self.totalFrames + self.currentFrame) : '0' + (self.totalFrames + self.currentFrame)}`);
                                    }
                                })(this),this.loadDuration / (this.totalFrames * this.animTimes));
                            }
                        },
                        update: () => {
                            this.loader.setAttribute("opacity", this.Tsca.sca);
                            this.tempTsca = this.Tsca.sca;
                        },
                        complete: () => {
                            this.loader.setAttribute("visible", "false");
                            clearInterval(this.loadInterval);
                            this.el.classList.add("canSetInterval");
                            this.currentFrame = 0;
                            if(this.loadForward){
                                this.growHotspot.play();
                            }
                        }
                    });
                }

                reapplyShrink(){
                    this.shrinkHotspot = anime({
                        targets: this.Hsca,
                        sca: [this.tempHsca, 0.1],
                        duration: 1000,
                        autoplay: false,
                        easing: 'easeOutElastic(1, 0.6)',
                        begin: () => {
                            this.el.classList.add("closing");
                            this.el.classList.add("switchImg");
                            bringBackOverlaps();
                            if(this.hasbtns){
                                this.yesbtn.el.classList.remove("interactive");
                                this.nobtn.el.classList.remove("interactive");
                            }
                        },
                        update: (anim) => {
                            this.el.setAttribute("scale", {x: this.Hsca.sca, y: this.Hsca.sca, z: 1});
                            if(Math.round(anim.progress) >= 1 && this.enteredCheck){
                                this.el.classList.remove("entered");
                                this.enteredCheck = false;
                            }
                            if(Math.round(anim.progress) >= 35 && this.el.classList.contains("switchImg")){
                                this.el.classList.remove("switchImg");
                                this.el.setAttribute("src", "#hotspot");
                                this.el.setAttribute("height", "1.0324");
                                calcNewValues(this.el);
                                var children = this.el.children;
                                for(var i = 1; i < children.length; i++){
                                    var c = children[i];
                                    c.setAttribute("visible", "false");
                                }
                            }
                            if(Math.round(anim.progress) >= 15 && this.closingCheck){
                                this.el.classList.remove("closing");
                                this.closingCheck = false;
                            }
                            this.tempHsca = this.Hsca.sca;
                        },
                        complete: () => {
                            this.el.classList.remove("opening");
                            this.el.classList.remove("entered");
                            this.enteredCheck = true;
                            this.closingCheck = true;
                        }
                    })
                }
            }

            class uiButton {
                constructor(el,type,f) {
                    this.el = el;
                    this.type = type;
                    this.animateButtonTimer;
                    this.timer = {
                        't' : 0
                    }
                    this.tempTimer = 0;
                    this.loadForward = true;
                    this.loadDuration = 1000;
                    this.canSetInterval = true;
                    this.loadInterval;
                    this.currentFrame = 0;
                    this.clicked = f;
                }

                reapplyButtonTimer(){
                    let dur = this.loadForward ? ((30 - this.currentFrame - 1) * (this.loadDuration / 30)) : ((this.currentFrame + 1) * (this.loadDuration / 30));
                    let target = this.loadForward ? 1 : 0;
                    this.animateButtonTimer = anime({
                        targets: this.timer,
                        t: [this.tempTimer, target],
                        duration: dur,
                        autoplay: false,
                        easing: 'linear',
                        begin: () => {
                            if(this.canSetInterval){
                                this.canSetInterval = false;
                                this.loadInterval = setInterval((function(self){
                                    return function() {
                                        if(self.loadForward){
                                            self.currentFrame = (self.currentFrame + 1) % 30;
                                        } else {
                                            self.currentFrame = (self.currentFrame - 1) % 30;
                                        }
                                        if(self.type == "yes"){
                                            self.el.setAttribute("src", `#yesbtnLoad${self.currentFrame}`);
                                        } else if (self.type == "no") {
                                            self.el.setAttribute("src", `#nobtnLoad${self.currentFrame}`);
                                        }
                                    }
                                })(this), this.loadDuration / 30);
                            }
                        },
                        update: () => {
                            this.tempTimer = this.timer.t;
                        },
                        complete: () => {
                            clearInterval(this.loadInterval);
                            this.canSetInterval = true;
                            if(this.currentFrame >= 28){
                                this.clicked();
                            }
                            this.currentFrame = 0;
                        }
                    });
                }
            }

            document.addEventListener("DOMContentLoaded", function(){
                scene1 = document.getElementById("scene1");
                scene2 = document.getElementById("scene2");
                currentScene = scene1;
                circs = document.getElementsByClassName("circ");
                yesButtons = document.getElementsByClassName("yes-btn");
                noButtons = document.getElementsByClassName("no-btn");
                fade = document.getElementById("fade-sphere");
                sky = document.getElementById("sky");
                maincam = document.getElementById("cam");
                rig = document.getElementById("rig");
                document.getElementById("cursor").addEventListener("mouseenter", function() {
                    console.log("entered something");
                });
                document.querySelector('a-scene').addEventListener('enter-vr', function () {
                    console.log("ENTERED VR");
                    console.log("V11");
                    inVR = true;
                    //rig.setAttribute("position", "0 -1.6 0");
                    //[...circs].map(a => a.setAttribute("position", "0 1.6 0"));
                });
                document.querySelector('a-scene').addEventListener('exit-vr', function () {
                    console.log("EXITED VR");
                    inVR = false;
                    //rig.setAttribute("position", "0 0 0");
                    //[...circs].map(a => a.setAttribute("position", "0 0 0"));
                });
                for(let i = 0; i < circs.length; i++){
                    let circ = circs[i];
                    if(i == 0){
                        currentHotspot = circ;
                    }
                    circ.setAttribute("id", ((i+1) > 9) ? (i+1)+ 'HS' : '0' + (i+1) + 'HS');
                    hotSpots.push(new HotSpot(circ));
                    circ.classList.add("canSetInterval");
                    circ.addEventListener('mouseenter', hotSpotEnter);
                    circ.addEventListener('mouseleave', hotSpotLeave);
                }

                for(let i = 0; i < yesButtons.length; i++){
                    let y = yesButtons[i];
                    y.addEventListener('mouseenter', yesButtonEnter);
                    y.addEventListener('mouseleave', yesButtonLeave);
                }

                for(let i = 0; i < noButtons.length; i++){
                    let n = noButtons[i];
                    n.addEventListener('mouseenter', noButtonEnter);
                    n.addEventListener('mouseleave', noButtonLeave);
                }

                function yesButtonEnter() {
                    onButton = true;
                    currentHotspot.yesbtn.loadForward = true;
                    if(typeof currentHotspot.yesbtn.animateButtonTimer !== 'undefined'){
                        currentHotspot.yesbtn.animateButtonTimer.restart();
                        currentHotspot.yesbtn.animateButtonTimer.pause();
                    }
                    currentHotspot.yesbtn.reapplyButtonTimer();
                    currentHotspot.yesbtn.animateButtonTimer.play();
                }

                function yesButtonLeave() {
                    onButton = true;
                    currentHotspot.yesbtn.loadForward = false;
                    clearInterval(currentHotspot.yesbtn.loadInterval);
                    currentHotspot.yesbtn.canSetInterval = true;
                    if(typeof currentHotspot.yesbtn.animateButtonTimer !== 'undefined'){
                        currentHotspot.yesbtn.animateButtonTimer.restart();
                        currentHotspot.yesbtn.animateButtonTimer.pause();
                    }
                    currentHotspot.yesbtn.reapplyButtonTimer();
                    currentHotspot.yesbtn.animateButtonTimer.play();
                    setTimeout(function(){
                        onButton = false;
                    }, 6);
                }

                function noButtonEnter() {
                    onButton = true;
                    currentHotspot.nobtn.loadForward = true;
                    if(typeof currentHotspot.nobtn.animateButtonTimer !== 'undefined'){
                        currentHotspot.nobtn.animateButtonTimer.restart();
                        currentHotspot.nobtn.animateButtonTimer.pause();
                    }
                    currentHotspot.nobtn.reapplyButtonTimer();
                    currentHotspot.nobtn.animateButtonTimer.play();
                }

                function noButtonLeave() {
                    onButton = true;
                    currentHotspot.nobtn.loadForward = false;
                    clearInterval(currentHotspot.nobtn.loadInterval);
                    currentHotspot.nobtn.canSetInterval = true;
                    if(typeof currentHotspot.nobtn.animateButtonTimer !== 'undefined'){
                        currentHotspot.nobtn.animateButtonTimer.restart();
                        currentHotspot.nobtn.animateButtonTimer.pause();
                    }
                    currentHotspot.nobtn.reapplyButtonTimer();
                    currentHotspot.nobtn.animateButtonTimer.play();
                    setTimeout(function(){
                        onButton = false;
                    }, 6);
                }

                function hotSpotEnter() {
                    console.log("entered hotspot");
                    currentHotspot = this;
                    currentHotspot = hotSpots[Number(currentHotspot.id.substring(0,2))-1];
                    console.log(currentHotspot);
                    if(!currentHotspot.el.classList.contains("entered") && !currentHotspot.el.classList.contains("opening") && !currentHotspot.el.classList.contains("closing") && typeof currentHotspot !== 'undefined'){
                        currentHotspotTimerHolder = document.getElementById(this.getAttribute('id').substring(0,2) + "TH");
                        currentHotspot.loadForward = true;
                        if(typeof currentHotspot.animateHotspotTimer !== 'undefined'){
                            currentHotspot.animateHotspotTimer.restart();
                            currentHotspot.animateHotspotTimer.pause();
                        }
                        currentHotspot.reapplyHotspotTimer();
                        console.log("play timer anim");
                        currentHotspot.animateHotspotTimer.play();
                    }
                }

                function hotSpotLeave(){
                    setTimeout(function(){
                        if(!currentHotspot.el.classList.contains("opening") && !onButton){
                            currentHotspot.el.classList.add("canSetInterval");
                            if(currentHotspot.el.classList.contains("entered")){
                                currentHotspot.animateHotspotTimer.restart();
                                currentHotspot.animateHotspotTimer.pause();
                                currentHotspot.loader.setAttribute("visible", "false");
                                currentHotspot.el.classList.add("closing");
                                currentHotspot.reapplyShrink();
                                currentHotspot.shrinkHotspot.play();
                            } else {
                                currentHotspot.loadForward = false;
                                clearInterval(currentHotspot.loadInterval);
                                if(typeof currentHotspot.animateHotspotTimer !== 'undefined'){
                                    currentHotspot.animateHotspotTimer.restart();
                                    currentHotspot.animateHotspotTimer.pause();
                                }
                                currentHotspot.reapplyHotspotTimer();
                                currentHotspot.animateHotspotTimer.play();
                            }
                        }
                    },5);
                }
            });

            function calcNewValues(el) {
                if(el != null){
                    let img = document.getElementById(el.getAttribute("src").substring(1));
                    if(img != null){
                        el.setAttribute("height", img.height * pixelScale);
                        el.setAttribute("theta-length", img.width * lengthScale);
                        el.setAttribute("theta-start", 180 - (el.getAttribute("theta-length") / 2));
                    }
                }
            }

            var movedSpots = [];

            function removeOverlaps(el) {
                if(el != null){
                    var children = el.children;
                    var biggestwel = el;
                    var biggesthel = el;
                    for(var i = 0; i < children.length-1; i++){
                        var c = children[i];
                        if(c.getAttribute("geometry").thetaLength > biggestwel.getAttribute("theta-length")){
                            biggestwel = c;
                        }
                        if(c.getAttribute("geometry").height > biggesthel.getAttribute("height")){
                            biggesthel = c;
                        }
                    }
                    var rot = el.getAttribute("rotation");
                    if(biggestwel != el){
                        var w = biggestwel.getAttribute("geometry").thetaLength / 2;
                    } else {
                        var w = el.getAttribute("theta-length") / 2;
                    }
                    if(biggesthel != el){
                        var h = (biggesthel.getAttribute("geometry").height / pixelScale) * lengthScale / 2;
                    } else {
                        var h = (el.getAttribute("height") / pixelScale) * lengthScale / 2;
                    }
                    for(var i = 0; i < circs.length; i++){
                        var circ = circs[i];
                        if(circ != el){
                            var circRot = circ.getAttribute("rotation");
                            if((circRot.x < rot.x + h && circRot.x > rot.x - h) && (circRot.y > rot.y - w && circRot.y < rot.y + w)){
                                circ.setAttribute("visible", "false");
                                let r = circ.getAttribute("rotation");
                                circ.setAttribute("rotation", `${r.x} ${r.y+180} ${r.z}`);
                                movedSpots.push(circ);
                            }
                        }
                    }
                }
            }

            function bringBackOverlaps() {
                for(i in movedSpots){
                    let circ = movedSpots[i];
                    circ.setAttribute("visible", "true");
                    let r = circ.getAttribute("rotation");
                    circ.setAttribute("rotation", `${r.x} ${r.y-180} ${r.z}`);
                }
                movedSpots = [];
            }

            AFRAME.registerComponent('position-reader', {
                tick: function() {
                    if(inVR){
                        [...circs].map(a => a.setAttribute("position", maincam.getAttribute("position")));
                        /*let pos = maincam.getAttribute("position");
                        console.log(pos);
                        maincam.setAttribute("position", {x: pos.x, y: (pos.y - 1.6), z: pos.z});
                        console.log(maincam.getAttribute("position"));*/
                    }
                }
            });
        </script>
    </head>
    <body>
        <a-scene>
            <a-assets>
                <!--<a-asset-item id="vrVideo" src="Media/360Video.mp4"></a-asset-item>-->
                <img id="sky1" src="Media/skybox.jpg.png">
                <img id="sky2" src="Media/spiaggia_di_mondello_4k.jpg">
                <img id="hotspot" src="Media/HotSpotTrans.png">
                <img id="hotspotOpen0" src="Media/HotSpotOpen1Trans.png">
                <img id="hotspotOpen1" src="Media/HotSpotOpen2.png">
                <img id="hotspotOpen2" src="Media/HotSpotOpenImage.png">
                <video id="hotspotOpen3" autoplay loop="true" src="Media/Pexels Videos 1409899.mp4"></video>
                <img id="hotspotOpen5" src="Media/HotspotVideo.png">
                <video id="hotspotOpen5Video" autoplay loop="true" src="Media/Video1.mp4"></video>
                <img id="hotspotOpen6" src="Media/HotSpotYesNo.png">


                <!--<img id="loadS00" src="Media/LoadFrames/Load1_0.png">
                <img id="loadS01" src="Media/LoadFrames/Load1_1.png">
                <img id="loadS02" src="Media/LoadFrames/Load1_2.png">
                <img id="loadS03" src="Media/LoadFrames/Load1_3.png">
                <img id="loadS04" src="Media/LoadFrames/Load1_4.png">
                <img id="loadS05" src="Media/LoadFrames/Load1_5.png">
                <img id="loadS06" src="Media/LoadFrames/Load1_6.png">
                <img id="loadS07" src="Media/LoadFrames/Load1_7.png">-->

                <!--<img id="loadS00" src="Media/LoadFrames3/Load1_00000.png">
                <img id="loadS01" src="Media/LoadFrames3/Load1_00001.png">
                <img id="loadS02" src="Media/LoadFrames3/Load1_00002.png">
                <img id="loadS03" src="Media/LoadFrames3/Load1_00003.png">
                <img id="loadS04" src="Media/LoadFrames3/Load1_00004.png">
                <img id="loadS05" src="Media/LoadFrames3/Load1_00005.png">
                <img id="loadS06" src="Media/LoadFrames3/Load1_00006.png">
                <img id="loadS07" src="Media/LoadFrames3/Load1_00007.png">
                <img id="loadS08" src="Media/LoadFrames3/Load1_00008.png">
                <img id="loadS09" src="Media/LoadFrames3/Load1_00009.png">
                <img id="loadS10" src="Media/LoadFrames3/Load1_00010.png">
                <img id="loadS11" src="Media/LoadFrames3/Load1_00011.png">
                <img id="loadS12" src="Media/LoadFrames3/Load1_00012.png">
                <img id="loadS13" src="Media/LoadFrames3/Load1_00013.png">
                <img id="loadS14" src="Media/LoadFrames3/Load1_00014.png">
                <img id="loadS15" src="Media/LoadFrames3/Load1_00015.png">-->

                <!--<img id="loadS00" src="Media/LoadFrames4/Loader30_00000.png">
                <img id="loadS01" src="Media/LoadFrames4/Loader30_00001.png">
                <img id="loadS02" src="Media/LoadFrames4/Loader30_00002.png">
                <img id="loadS03" src="Media/LoadFrames4/Loader30_00003.png">
                <img id="loadS04" src="Media/LoadFrames4/Loader30_00004.png">
                <img id="loadS05" src="Media/LoadFrames4/Loader30_00005.png">
                <img id="loadS06" src="Media/LoadFrames4/Loader30_00006.png">
                <img id="loadS07" src="Media/LoadFrames4/Loader30_00007.png">
                <img id="loadS08" src="Media/LoadFrames4/Loader30_00008.png">
                <img id="loadS09" src="Media/LoadFrames4/Loader30_00009.png">
                <img id="loadS10" src="Media/LoadFrames4/Loader30_00010.png">
                <img id="loadS11" src="Media/LoadFrames4/Loader30_00011.png">
                <img id="loadS12" src="Media/LoadFrames4/Loader30_00012.png">
                <img id="loadS13" src="Media/LoadFrames4/Loader30_00013.png">
                <img id="loadS14" src="Media/LoadFrames4/Loader30_00014.png">
                <img id="loadS15" src="Media/LoadFrames4/Loader30_00015.png">
                <img id="loadS16" src="Media/LoadFrames4/Loader30_00016.png">
                <img id="loadS17" src="Media/LoadFrames4/Loader30_00017.png">
                <img id="loadS18" src="Media/LoadFrames4/Loader30_00018.png">
                <img id="loadS19" src="Media/LoadFrames4/Loader30_00019.png">
                <img id="loadS20" src="Media/LoadFrames4/Loader30_00020.png">
                <img id="loadS21" src="Media/LoadFrames4/Loader30_00021.png">
                <img id="loadS22" src="Media/LoadFrames4/Loader30_00022.png">
                <img id="loadS23" src="Media/LoadFrames4/Loader30_00023.png">
                <img id="loadS24" src="Media/LoadFrames4/Loader30_00024.png">
                <img id="loadS25" src="Media/LoadFrames4/Loader30_00025.png">
                <img id="loadS26" src="Media/LoadFrames4/Loader30_00026.png">
                <img id="loadS27" src="Media/LoadFrames4/Loader30_00027.png">
                <img id="loadS28" src="Media/LoadFrames4/Loader30_00028.png">
                <img id="loadS29" src="Media/LoadFrames4/Loader30_00029.png">-->

                <img id="loadS00" src="Media/LoadFrames5/Loader30_00000.png">
                <img id="loadS01" src="Media/LoadFrames5/Loader30_00001.png">
                <img id="loadS02" src="Media/LoadFrames5/Loader30_00002.png">
                <img id="loadS03" src="Media/LoadFrames5/Loader30_00003.png">
                <img id="loadS04" src="Media/LoadFrames5/Loader30_00004.png">
                <img id="loadS05" src="Media/LoadFrames5/Loader30_00005.png">
                <img id="loadS06" src="Media/LoadFrames5/Loader30_00006.png">
                <img id="loadS07" src="Media/LoadFrames5/Loader30_00007.png">
                <img id="loadS08" src="Media/LoadFrames5/Loader30_00008.png">
                <img id="loadS09" src="Media/LoadFrames5/Loader30_00009.png">
                <img id="loadS10" src="Media/LoadFrames5/Loader30_00010.png">
                <img id="loadS11" src="Media/LoadFrames5/Loader30_00011.png">
                <img id="loadS12" src="Media/LoadFrames5/Loader30_00012.png">
                <img id="loadS13" src="Media/LoadFrames5/Loader30_00013.png">
                <img id="loadS14" src="Media/LoadFrames5/Loader30_00014.png">
                <img id="loadS15" src="Media/LoadFrames5/Loader30_00015.png">
                <img id="loadS16" src="Media/LoadFrames5/Loader30_00016.png">
                <img id="loadS17" src="Media/LoadFrames5/Loader30_00017.png">
                <img id="loadS18" src="Media/LoadFrames5/Loader30_00018.png">
                <img id="loadS19" src="Media/LoadFrames5/Loader30_00019.png">
                <img id="loadS20" src="Media/LoadFrames5/Loader30_00020.png">
                <img id="loadS21" src="Media/LoadFrames5/Loader30_00021.png">
                <img id="loadS22" src="Media/LoadFrames5/Loader30_00022.png">
                <img id="loadS23" src="Media/LoadFrames5/Loader30_00023.png">
                <img id="loadS24" src="Media/LoadFrames5/Loader30_00024.png">
                <img id="loadS25" src="Media/LoadFrames5/Loader30_00025.png">
                <img id="loadS26" src="Media/LoadFrames5/Loader30_00026.png">
                <img id="loadS27" src="Media/LoadFrames5/Loader30_00027.png">
                <img id="loadS28" src="Media/LoadFrames5/Loader30_00028.png">
                <img id="loadS29" src="Media/LoadFrames5/Loader30_00029.png">

                <img id="yesbtnLoad0" src="Media/YesButton/HotspotWithButtons_00000.png">
                <img id="yesbtnLoad1" src="Media/YesButton/HotspotWithButtons_00001.png">
                <img id="yesbtnLoad2" src="Media/YesButton/HotspotWithButtons_00002.png">
                <img id="yesbtnLoad3" src="Media/YesButton/HotspotWithButtons_00003.png">
                <img id="yesbtnLoad4" src="Media/YesButton/HotspotWithButtons_00004.png">
                <img id="yesbtnLoad5" src="Media/YesButton/HotspotWithButtons_00005.png">
                <img id="yesbtnLoad6" src="Media/YesButton/HotspotWithButtons_00006.png">
                <img id="yesbtnLoad7" src="Media/YesButton/HotspotWithButtons_00007.png">
                <img id="yesbtnLoad8" src="Media/YesButton/HotspotWithButtons_00008.png">
                <img id="yesbtnLoad9" src="Media/YesButton/HotspotWithButtons_00009.png">
                <img id="yesbtnLoad10" src="Media/YesButton/HotspotWithButtons_00010.png">
                <img id="yesbtnLoad11" src="Media/YesButton/HotspotWithButtons_00011.png">
                <img id="yesbtnLoad12" src="Media/YesButton/HotspotWithButtons_00012.png">
                <img id="yesbtnLoad13" src="Media/YesButton/HotspotWithButtons_00013.png">
                <img id="yesbtnLoad14" src="Media/YesButton/HotspotWithButtons_00014.png">
                <img id="yesbtnLoad15" src="Media/YesButton/HotspotWithButtons_00015.png">
                <img id="yesbtnLoad16" src="Media/YesButton/HotspotWithButtons_00016.png">
                <img id="yesbtnLoad17" src="Media/YesButton/HotspotWithButtons_00017.png">
                <img id="yesbtnLoad18" src="Media/YesButton/HotspotWithButtons_00018.png">
                <img id="yesbtnLoad19" src="Media/YesButton/HotspotWithButtons_00019.png">
                <img id="yesbtnLoad20" src="Media/YesButton/HotspotWithButtons_00020.png">
                <img id="yesbtnLoad21" src="Media/YesButton/HotspotWithButtons_00021.png">
                <img id="yesbtnLoad22" src="Media/YesButton/HotspotWithButtons_00022.png">
                <img id="yesbtnLoad23" src="Media/YesButton/HotspotWithButtons_00023.png">
                <img id="yesbtnLoad24" src="Media/YesButton/HotspotWithButtons_00024.png">
                <img id="yesbtnLoad25" src="Media/YesButton/HotspotWithButtons_00025.png">
                <img id="yesbtnLoad26" src="Media/YesButton/HotspotWithButtons_00026.png">
                <img id="yesbtnLoad27" src="Media/YesButton/HotspotWithButtons_00027.png">
                <img id="yesbtnLoad28" src="Media/YesButton/HotspotWithButtons_00028.png">
                <img id="yesbtnLoad29" src="Media/YesButton/HotspotWithButtons_00029.png">

                <!--<img id="yesbtnLoad0" src="Media/YesWave/HotspotWithButtons_00000.png">
                <img id="yesbtnLoad1" src="Media/YesWave/HotspotWithButtons_00001.png">
                <img id="yesbtnLoad2" src="Media/YesWave/HotspotWithButtons_00002.png">
                <img id="yesbtnLoad3" src="Media/YesWave/HotspotWithButtons_00003.png">
                <img id="yesbtnLoad4" src="Media/YesWave/HotspotWithButtons_00004.png">
                <img id="yesbtnLoad5" src="Media/YesWave/HotspotWithButtons_00005.png">
                <img id="yesbtnLoad6" src="Media/YesWave/HotspotWithButtons_00006.png">
                <img id="yesbtnLoad7" src="Media/YesWave/HotspotWithButtons_00007.png">
                <img id="yesbtnLoad8" src="Media/YesWave/HotspotWithButtons_00008.png">
                <img id="yesbtnLoad9" src="Media/YesWave/HotspotWithButtons_00009.png">
                <img id="yesbtnLoad10" src="Media/YesWave/HotspotWithButtons_00010.png">
                <img id="yesbtnLoad11" src="Media/YesWave/HotspotWithButtons_00011.png">
                <img id="yesbtnLoad12" src="Media/YesWave/HotspotWithButtons_00012.png">
                <img id="yesbtnLoad13" src="Media/YesWave/HotspotWithButtons_00013.png">
                <img id="yesbtnLoad14" src="Media/YesWave/HotspotWithButtons_00014.png">
                <img id="yesbtnLoad15" src="Media/YesWave/HotspotWithButtons_00015.png">
                <img id="yesbtnLoad16" src="Media/YesWave/HotspotWithButtons_00016.png">
                <img id="yesbtnLoad17" src="Media/YesWave/HotspotWithButtons_00017.png">
                <img id="yesbtnLoad18" src="Media/YesWave/HotspotWithButtons_00018.png">
                <img id="yesbtnLoad19" src="Media/YesWave/HotspotWithButtons_00019.png">
                <img id="yesbtnLoad20" src="Media/YesWave/HotspotWithButtons_00020.png">
                <img id="yesbtnLoad21" src="Media/YesWave/HotspotWithButtons_00021.png">
                <img id="yesbtnLoad22" src="Media/YesWave/HotspotWithButtons_00022.png">
                <img id="yesbtnLoad23" src="Media/YesWave/HotspotWithButtons_00023.png">
                <img id="yesbtnLoad24" src="Media/YesWave/HotspotWithButtons_00024.png">
                <img id="yesbtnLoad25" src="Media/YesWave/HotspotWithButtons_00025.png">
                <img id="yesbtnLoad26" src="Media/YesWave/HotspotWithButtons_00026.png">
                <img id="yesbtnLoad27" src="Media/YesWave/HotspotWithButtons_00027.png">
                <img id="yesbtnLoad28" src="Media/YesWave/HotspotWithButtons_00028.png">
                <img id="yesbtnLoad29" src="Media/YesWave/HotspotWithButtons_00029.png">-->

                <!--<img id="yesbtnLoad0" src="Media/YesLine/HotspotWithButtons_00000.png">
                <img id="yesbtnLoad1" src="Media/YesLine/HotspotWithButtons_00001.png">
                <img id="yesbtnLoad2" src="Media/YesLine/HotspotWithButtons_00002.png">
                <img id="yesbtnLoad3" src="Media/YesLine/HotspotWithButtons_00003.png">
                <img id="yesbtnLoad4" src="Media/YesLine/HotspotWithButtons_00004.png">
                <img id="yesbtnLoad5" src="Media/YesLine/HotspotWithButtons_00005.png">
                <img id="yesbtnLoad6" src="Media/YesLine/HotspotWithButtons_00006.png">
                <img id="yesbtnLoad7" src="Media/YesLine/HotspotWithButtons_00007.png">
                <img id="yesbtnLoad8" src="Media/YesLine/HotspotWithButtons_00008.png">
                <img id="yesbtnLoad9" src="Media/YesLine/HotspotWithButtons_00009.png">
                <img id="yesbtnLoad10" src="Media/YesLine/HotspotWithButtons_00010.png">
                <img id="yesbtnLoad11" src="Media/YesLine/HotspotWithButtons_00011.png">
                <img id="yesbtnLoad12" src="Media/YesLine/HotspotWithButtons_00012.png">
                <img id="yesbtnLoad13" src="Media/YesLine/HotspotWithButtons_00013.png">
                <img id="yesbtnLoad14" src="Media/YesLine/HotspotWithButtons_00014.png">
                <img id="yesbtnLoad15" src="Media/YesLine/HotspotWithButtons_00015.png">
                <img id="yesbtnLoad16" src="Media/YesLine/HotspotWithButtons_00016.png">
                <img id="yesbtnLoad17" src="Media/YesLine/HotspotWithButtons_00017.png">
                <img id="yesbtnLoad18" src="Media/YesLine/HotspotWithButtons_00018.png">
                <img id="yesbtnLoad19" src="Media/YesLine/HotspotWithButtons_00019.png">
                <img id="yesbtnLoad20" src="Media/YesLine/HotspotWithButtons_00020.png">
                <img id="yesbtnLoad21" src="Media/YesLine/HotspotWithButtons_00021.png">
                <img id="yesbtnLoad22" src="Media/YesLine/HotspotWithButtons_00022.png">
                <img id="yesbtnLoad23" src="Media/YesLine/HotspotWithButtons_00023.png">
                <img id="yesbtnLoad24" src="Media/YesLine/HotspotWithButtons_00024.png">
                <img id="yesbtnLoad25" src="Media/YesLine/HotspotWithButtons_00025.png">
                <img id="yesbtnLoad26" src="Media/YesLine/HotspotWithButtons_00026.png">
                <img id="yesbtnLoad27" src="Media/YesLine/HotspotWithButtons_00027.png">
                <img id="yesbtnLoad28" src="Media/YesLine/HotspotWithButtons_00028.png">
                <img id="yesbtnLoad29" src="Media/YesLine/HotspotWithButtons_00029.png">-->

                <img id="nobtnLoad0" src="Media/NoButton/HotspotWithButtons_00000.png">
                <img id="nobtnLoad1" src="Media/NoButton/HotspotWithButtons_00001.png">
                <img id="nobtnLoad2" src="Media/NoButton/HotspotWithButtons_00002.png">
                <img id="nobtnLoad3" src="Media/NoButton/HotspotWithButtons_00003.png">
                <img id="nobtnLoad4" src="Media/NoButton/HotspotWithButtons_00004.png">
                <img id="nobtnLoad5" src="Media/NoButton/HotspotWithButtons_00005.png">
                <img id="nobtnLoad6" src="Media/NoButton/HotspotWithButtons_00006.png">
                <img id="nobtnLoad7" src="Media/NoButton/HotspotWithButtons_00007.png">
                <img id="nobtnLoad8" src="Media/NoButton/HotspotWithButtons_00008.png">
                <img id="nobtnLoad9" src="Media/NoButton/HotspotWithButtons_00009.png">
                <img id="nobtnLoad10" src="Media/NoButton/HotspotWithButtons_00010.png">
                <img id="nobtnLoad11" src="Media/NoButton/HotspotWithButtons_00011.png">
                <img id="nobtnLoad12" src="Media/NoButton/HotspotWithButtons_00012.png">
                <img id="nobtnLoad13" src="Media/NoButton/HotspotWithButtons_00013.png">
                <img id="nobtnLoad14" src="Media/NoButton/HotspotWithButtons_00014.png">
                <img id="nobtnLoad15" src="Media/NoButton/HotspotWithButtons_00015.png">
                <img id="nobtnLoad16" src="Media/NoButton/HotspotWithButtons_00016.png">
                <img id="nobtnLoad17" src="Media/NoButton/HotspotWithButtons_00017.png">
                <img id="nobtnLoad18" src="Media/NoButton/HotspotWithButtons_00018.png">
                <img id="nobtnLoad19" src="Media/NoButton/HotspotWithButtons_00019.png">
                <img id="nobtnLoad20" src="Media/NoButton/HotspotWithButtons_00020.png">
                <img id="nobtnLoad21" src="Media/NoButton/HotspotWithButtons_00021.png">
                <img id="nobtnLoad22" src="Media/NoButton/HotspotWithButtons_00022.png">
                <img id="nobtnLoad23" src="Media/NoButton/HotspotWithButtons_00023.png">
                <img id="nobtnLoad24" src="Media/NoButton/HotspotWithButtons_00024.png">
                <img id="nobtnLoad25" src="Media/NoButton/HotspotWithButtons_00025.png">
                <img id="nobtnLoad26" src="Media/NoButton/HotspotWithButtons_00026.png">
                <img id="nobtnLoad27" src="Media/NoButton/HotspotWithButtons_00027.png">
                <img id="nobtnLoad28" src="Media/NoButton/HotspotWithButtons_00028.png">
                <img id="nobtnLoad29" src="Media/NoButton/HotspotWithButtons_00029.png">

                <a-asset-item id="spheremodel" src="Media/Sphere.obj"></a-asset-item>
            </a-assets>

            <!--<a-videosphere src="#vrVideo"></a-videosphere>-->
            <a-sky id="sky" src="#sky1"></a-sky>

            <a-entity
                id="scene1"
                visible="true">
                <a-curvedimage 
                    class="circ 5 interactive"
                    src="#hotspot"
                    height="1.0324"
                    radius="1.183"
                    theta-length="50"
                    theta-start="155"
                    scale="0.1 0.1 1"
                    rotation="0 -10 0"
                    position="0 0 0">
                    <a-curvedimage
                        src="#loadS0"
                        opacity="0"
                        height="1.0472"
                        radius="1.2"
                        theta-length="50"
                        theta-start="155"
                        scale="1.1 1.1 1"
                        rotation="0 0 0"
                        visible="false">
                    </a-curvedimage>
                    <a-entity material="shader: flat; side: double; src: #hotspotOpen5Video"
                                geometry="primitive: cylinder; radius: 1.18; height: 0.820; open-ended: true; theta-start: 148; theta-length: 39.85;"
                                rotation="0 0 0" scale="-1 1 1"
                                visible="false">
                    </a-entity>
                </a-curvedimage>

                <a-curvedimage 
                    class="circ 6 interactive"
                    src="#hotspot"
                    height="1.0324"
                    radius="1.183"
                    theta-length="50"
                    theta-start="155"
                    scale="0.1 0.1 1"
                    rotation="-13 32.9 0"
                    position="0 0 0">
                    <a-curvedimage
                        src="#loadS0"
                        opacity="0"
                        height="1.0472"
                        radius="1.2"
                        theta-length="50"
                        theta-start="155"
                        scale="1.1 1.1 1"
                        rotation="0 0 0"
                        visible="false">
                    </a-curvedimage>
                    <a-curvedimage
                        class="yes-btn"
                        src="#yesbtnLoad0"
                        height="0.1292"
                        radius="1.18"
                        theta-length="20"
                        theta-start="181"
                        position="0 -0.12 0"
                        visible="false">
                    </a-curvedimage>
                    <a-curvedimage
                        class="no-btn"
                        src="#nobtnLoad0"
                        height="0.1292"
                        radius="1.18"
                        theta-length="20"
                        theta-start="159"
                        position="0 -0.12 0"
                        visible="false">
                    </a-curvedimage>
                </a-curvedimage>

                <a-curvedimage 
                    class="circ 1 interactive"
                    src="#hotspot"
                    height="1.0324"
                    radius="1.183"
                    theta-length="50"
                    theta-start="155"
                    scale="0.1 0.1 1"
                    rotation="-35 -116.6 0"
                    position="0 0 0">
                    <a-curvedimage
                        src="#loadS0"
                        opacity="0"
                        height="1.0472"
                        radius="1.2"
                        theta-length="50"
                        theta-start="155"
                        scale="1.1 1.1 1"
                        rotation="0 0 0"
                        visible="false">
                    </a-curvedimage>
                </a-curvedimage>

                <a-curvedimage 
                    class="circ 2 interactive"
                    src="#hotspot"
                    height="1.0324"
                    radius="1.183"
                    theta-length="50"
                    theta-start="155"
                    scale="0.1 0.1 1"
                    rotation="-17 105.2 0"
                    position="0 0 0">
                    <a-curvedimage
                        src="#loadS0"
                        opacity="0"
                        height="1.0472"
                        radius="1.2"
                        theta-length="50"
                        theta-start="155"
                        scale="1.1 1.1 1"
                        rotation="0 0 0"
                        visible="false">
                    </a-curvedimage>

                </a-curvedimage>
            </a-entity>

            <a-entity
                id="scene2"
                visible="false">
                <a-curvedimage 
                    class="circ 5"
                    src="#hotspot"
                    height="1.0324"
                    radius="1.183"
                    theta-length="50"
                    theta-start="155"
                    scale="0.1 0.1 1"
                    rotation="0.99 -6.7 0"
                    position="0 0 0">
                    <a-curvedimage
                        src="#loadS0"
                        opacity="0"
                        height="1.0472"
                        radius="1.2"
                        theta-length="50"
                        theta-start="155"
                        scale="1.1 1.1 1"
                        rotation="0 0 0"
                        visible="false">
                    </a-curvedimage>
                    <a-entity material="shader: flat; side: double; src: #hotspotOpen5Video"
                                geometry="primitive: cylinder; radius: 1.18; height: 0.820; open-ended: true; theta-start: 148; theta-length: 39.85;"
                                rotation="0 0 0" scale="-1 1 1"
                                visible="false">
                    </a-entity>
                </a-curvedimage>

                <a-curvedimage 
                    class="circ 6"
                    src="#hotspot"
                    height="1.0324"
                    radius="1.183"
                    theta-length="50"
                    theta-start="155"
                    scale="0.1 0.1 1"
                    rotation="-10 180 0"
                    position="0 0 0">
                    <a-curvedimage
                        src="#loadS0"
                        opacity="0"
                        height="1.0472"
                        radius="1.2"
                        theta-length="50"
                        theta-start="155"
                        scale="1.1 1.1 1"
                        rotation="0 0 0"
                        visible="false">
                    </a-curvedimage>
                    <a-curvedimage
                        class="yes-btn"
                        src="#yesbtnLoad0"
                        height="0.1292"
                        radius="1.18"
                        theta-length="20"
                        theta-start="181"
                        position="0 -0.12 0"
                        visible="false">
                    </a-curvedimage>
                    <a-curvedimage
                        class="no-btn"
                        src="#nobtnLoad0"
                        height="0.1292"
                        radius="1.18"
                        theta-length="20"
                        theta-start="159"
                        position="0 -0.12 0"
                        visible="false">
                    </a-curvedimage>
                </a-curvedimage>
            </a-entity>

            <a-entity id="rig" position="0 0 0">
                <a-entity id="cam" camera look-controls position-reader>
                    <a-cursor
                        id="cursor"
                        color="white"
                        raycaster="objects: .interactive; showLine: true;"
                        rayOrigin="mouse"
                        position="0 0 -0.5"
                        scale="0.5 0.5 0.5"/>
                </a-entity>
            </a-entity>

            <a-entity
                id="fade-sphere"
                material="shader: flat; color: black; opacity: 0"
                obj-model="obj: #spheremodel"
                animation__fadeout="property: material.opacity; from: 0; to: 1; dur: 2000; autoplay: false"
                animation__fadein="property: material.opacity; from: 1; to: 0; dur: 2000; autoplay: false">
            </a-entity>
        </a-scene>
    </body>
</html>